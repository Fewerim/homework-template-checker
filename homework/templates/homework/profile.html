{% extends "homework/base.html" %}

{% block title %}Профиль{% endblock %}

{% block content %}
<section class="page">
  <div class="page__container">

    <header class="page__header">
      <h1 class="page__title">Профиль</h1>
    </header>

    <div class="card">
      <div class="profile">
        <div class="profile__name">
          {{ profile.last_name }} {{ profile.first_name }} {{ profile.patronymic }}
        </div>

        <dl class="profile__meta">
          <div class="profile__row">
            <dt>Дата рождения</dt>
            <dd>{{ profile.birth_date }}</dd>
          </div>
          <div class="profile__row">
            <dt>Роль</dt>
            <dd>{{ profile.get_role_display }}</dd>
          </div>
        </dl>
      </div>
    </div>

    <div class="card">
      <h2 class="card__title">Мои классы</h2>

      {% if profile.role == "teacher" %}
        <ul class="chips">
          {% for cls in teacher_classes %}
            <li class="chips__item">
              <a class="chip" href="{% url 'classroom_detail' cls.id %}">{{ cls.name }}</a>
            </li>
          {% empty %}
            <li class="muted">Нет классов</li>
          {% endfor %}
        </ul>
      {% else %}
        <ul class="chips">
          {% for cls in student_classes %}
            <li class="chips__item">
              <a class="chip" href="{% url 'classroom_detail' cls.id %}">{{ cls.name }}</a>
            </li>
          {% empty %}
            <li class="muted">Нет классов</li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>

  </div>
</section>
{% endblock %}
