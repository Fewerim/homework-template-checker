# Техническое задание для проекта: "Homework-Template-Checker"

## Название и концепция
**HomeworkTemplateChecker** — веб-сервис для школьных учителей, решающий проблему ручной проверки домашних заданий. 

**Проблема**: Учителя тратят часы на сверку ответов учеников с эталоном.  
**Решение**: Автоматизация создания динамических форм ДЗ с валидацией (целые числа без десятичных, текст с ограничениями). Ученики заполняют готовую форму, система сохраняет ответы для быстрой проверки учителем с автоматическим расчетом баллов и аналитикой успеваемости.
## 2. Роли пользователей
**Гость**: просмотр демонстрационных форм заданий.

**Учитель** (расширение User): 
- Создает классы и динамические формы ДЗ (кол-во заданий + типы полей с валидацией).
- Просматривает заполненные формы учеников в таблице.
- Корректирует баллы, добавляет комментарии, завершает проверку.
- Видит аналитику успеваемости по классу.

**Ученик** (расширение User):
- Заполняет динамическую форму ДЗ с валидацией полей (только цифры, без букв/точек).
- Получает результаты проверки с указанием ошибок и итоговой оценки.

## 3. Модели данных
**Classroom (Класс)**: Объединяет учителя и учеников в учебные группы (например "11Б").  
**Поля:** name, teacher (ForeignKey к User), students (ManyToMany к User)

**GradeScale (Шкала оценки)**: Настройки перевода процента выполненных заданий в школьную оценку.  
**Поля:** teacher (ForeignKey к User), threshold_1, threshold_2, threshold_3, threshold_4, threshold_5

**HomeworkTemplate (Шаблон домашнего задания):** Описание конкретного ДЗ для класса с прикрепленным файлом и правильными ответами.  
**Поля:** title, classroom (ForeignKey к Classroom), homework_file (FileField), questions (JSONField), correct_answers (JSONField), assigned_date, deadline, max_score, grade_scale (ForeignKey к GradeScale)

**StudentSubmission (Ответ/оценка ученика):** Хранит ответы ученика на ДЗ и результаты проверки.  
**Поля:** student (ForeignKey к User), homework_template (ForeignKey к HomeworkTemplate), answers (JSONField), auto_score, final_score, grade, graded, teacher_comment, submitted_at
## 4. Ключевой функционал (User stories)
**1. Регистрация и роли**  
Пользователь регистрируется в системе, выбирая роль «Учитель» или «Ученик».  
Ученик после регистрации получает уникальный идентификатор, по которому учитель может добавить его в свой класс.

**2. Управление классами (Учитель)**  
Учитель создает новый класс (например, «7А») и добавляет в него учеников по их ID.  
Учитель видит список всех своих классов и состав каждого класса.

**3. Создание домашнего задания (Учитель)**  
Учитель создает ДЗ для выбранного класса, прикрепляя файл с текстом задания (PDF/изображение).  
Учитель заполняет шаблон ответов: у каждого задания есть номер, тип ответа (текст / целое число / число с дробной частью) и правильный ответ.  
Шаблон динамически расширяется: минимально 5 заданий, учитель может добавлять и удалять поля, меняя количество заданий.   
При создании первого ДЗ учитель задает шкалу оценивания (GradeScale), по которой процент выполненных заданий переводится в оценку (2, 3, 4, 5); для следующих ДЗ используется эта же шкала.

**4. Выполнение ДЗ (Ученик)**  
Ученик заходит в раздел «Домашние задания», видит список ДЗ своего класса.  
Открывает конкретное ДЗ, скачивает/просматривает прикрепленный файл с заданием и заполняет таблицу ответов по номерам заданий (без текста вопросов).  
Система валидирует ввод в каждом поле (только цифры для числовых вопросов, ограничения для текстовых) и сохраняет ответы.

**5. Проверка и выставление оценки (Учитель)**  
Учитель открывает отправленное ДЗ ученика и видит таблицу: номер задания, ответ ученика, правильный ответ, автоматически подсчитанный балл.  
Система считает процент выполненных заданий, по GradeScale предлагает автоматическую оценку (grade).  
Учитель при необходимости корректирует итоговый балл (final_score), при желании изменяет оценку, добавляет комментарий и подтверждает проверку.  
После подтверждения работа помечается как «проверена», ученику приходит уведомление с результатом, процентом выполнения и итоговой оценкой.

## 5. Технический стек и интеграции
Для обеспечения технической нагрузки в проекте используется библиотека **Pandas** для анализа данных по успеваемости:

- Расчет процента правильных ответов по каждому дз и ученику.
- Построение распределения оценок (2-5) в рамках класса.
- Подсчет среднего балла по каждому ДЗ.

Для визуализации результатов аналитики используется **Matplotlib** - графики распределения оценок и динамики среднего балла по датам домашних заданий.

